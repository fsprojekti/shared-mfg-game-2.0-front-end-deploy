"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[33],{39033:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var a=r(1413),t=r(15861),s=r(70885),i=r(87757),c=r.n(i),o=r(72791),u=r(45987),d=r(81694),l=r.n(d),x=r(10162),f=r(80184),p=["bsPrefix","size","vertical","className","as"],h=o.forwardRef((function(e,n){var r=e.bsPrefix,t=e.size,s=e.vertical,i=e.className,c=e.as,o=void 0===c?"div":c,d=(0,u.Z)(e,p),h=(0,x.vE)(r,"btn-group"),g=h;return s&&(g="".concat(h,"-vertical")),(0,f.jsx)(o,(0,a.Z)((0,a.Z)({},d),{},{ref:n,className:l()(i,g,t&&"".concat(h,"-").concat(t))}))}));h.displayName="ButtonGroup",h.defaultProps={vertical:!1,role:"group"};var g=h,m=r(43360),b=["bsPrefix","name","className","checked","type","onChange","value","disabled","id","inputRef"],v=function(){},Z=o.forwardRef((function(e,n){var r=e.bsPrefix,t=e.name,s=e.className,i=e.checked,c=e.type,o=e.onChange,d=e.value,p=e.disabled,h=e.id,g=e.inputRef,Z=(0,u.Z)(e,b);return r=(0,x.vE)(r,"btn-check"),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("input",{className:r,name:t,type:c,value:d,ref:g,autoComplete:"off",checked:!!i,disabled:!!p,onChange:o||v,id:h}),(0,f.jsx)(m.Z,(0,a.Z)((0,a.Z)({},Z),{},{ref:n,className:l()(s,p&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:h}))]})}));Z.displayName="ToggleButton";var j=Z,y=r(2144),k=r(46167),T=r(99410),w=r(74292),C=r(24849),N=r(78274),R=function(){var e=(0,N.bN)(),n=e.chains,r=(e.cookies,e.apiUserBridge),i=(e.user,e.activeChain),u=e.usersBalances,d=e.bridges,l=e.setNote,x=(0,o.useState)(null),p=(0,s.Z)(x,2),h=p[0],b=p[1],v=(0,o.useState)(null),Z=(0,s.Z)(v,2),R=Z[0],S=Z[1],B=(0,o.useState)(0),I=(0,s.Z)(B,2),P=I[0],F=I[1],M=(0,o.useState)(!1),z=(0,s.Z)(M,2),A=z[0],E=z[1],O=(0,o.useState)("1"),Y=(0,s.Z)(O,2),D=Y[0],G=Y[1];var U=function(e){return n.filter((function(n){return n.id===d[e].chainSource||n.id===d[e].chainTarget})).map((function(e){return e.name}))},W=function(){var e=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E(!0),null!==h&&""!==h&&0!==h&&!isNaN(h)){e.next=7;break}l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{msg:"You must enter positive numbers",heading:"Transfer failed!",show:!0,type:"danger"})})),E(!1),e.next=32;break;case 7:if(-1!=Math.sign(h)){e.next=12;break}l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{msg:"Amount cannot be a negative number",heading:"Transfer failed!",show:!0,type:"danger"})})),E(!1),e.next=32;break;case 12:if(t=h,!((Math.floor(t).toString()===t?0:t.toString().split(".")[1].length||0)>0)){e.next=17;break}l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{msg:"Input value must be an integer",heading:"Transfer failed!",show:!0,type:"danger"})})),E(!1),e.next=32;break;case 17:if(!(parseInt(h)>parseInt(u[i]["".concat(n[i].name)]))){e.next=22;break}l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{msg:"Amount is bigger than balance",heading:"Transfer failed!",show:!0,type:"danger"})})),E(!1),e.next=32;break;case 22:if(0!=D){e.next=27;break}return e.next=25,r(h,R,n[0].id,n[P].id);case 25:e.next=29;break;case 27:return e.next=29,r(h,R,n[P].id,n[0].id);case 29:E(!1),b(0),l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{msg:"You successfully transferred "+h,show:!0,type:"success"})}));case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(0),E(!1),l({show:!0,type:"danger",msg:e.t0.response.data.message,heading:"Transfer failed! "});case 38:case"end":return e.stop()}var t}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){console.log(n[i].name),console.log(u),console.log(u.indexOf(n[i].name))}),[n]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"d-flex",style:{paddingTop:"10%",justifyContent:"center"},children:(0,f.jsx)(y.Z,{style:{backgroundColor:"transparent",borderRadius:"8px",boxShadow:"var(--light-shadow)"},children:n.length>1?(0,f.jsxs)(y.Z.Body,{children:[(0,f.jsxs)(y.Z.Title,{children:[(0,f.jsx)("b",{children:d[P].name}),(0,f.jsxs)(k.Z,{style:{margin:"10px"},children:[(0,f.jsx)(k.Z.Toggle,{variant:"outline-secondary",id:"dropdown-basic",style:{borderRadius:"8px"},children:(0,f.jsxs)("b",{children:[" ",(0,f.jsxs)("span",{style:{color:"1"===D?"red":"green"},children:[" ",U(P)[0]," "]})," ","1"===D?"\u27a1":"\u2b05"," ",(0,f.jsxs)("span",{style:{color:"2"===D?"red":"green"},children:["  ",U(P)[1],"  "]}),"  "]})}),(0,f.jsx)(k.Z.Menu,{children:d.map((function(e,n){return(0,f.jsxs)(k.Z.Item,{onClick:function(e){return F(n)},children:[" ",U(n)[0],"  ",U(n)[1]," "]})}))})]})]}),(0,f.jsx)(y.Z,{className:"d-flex",style:{backgroundColor:"rgba(222, 243, 239, 0.5)",borderRadius:"8px",margin:"10px"},children:(0,f.jsxs)(y.Z.Body,{children:[(0,f.jsx)(g,{children:[{name:"Deposit",value:"1"},{name:"Withdraw",value:"2"}].map((function(e,n){return(0,f.jsx)(j,{id:"dir-".concat(n),type:"radio",variant:"outline-primary",name:"dir",value:e.value,checked:D===e.value,onChange:function(e){return G(e.currentTarget.value)},style:{width:"10em",borderRadius:n%2?"0px 8px 8px 0px":"8px 0px 0px 8px"},children:e.name},n)}))}),(0,f.jsxs)(y.Z.Text,{children:[(0,f.jsxs)(T.Z,{style:{margin:"10px",borderRadius:"8px"},children:[(0,f.jsx)(T.Z.Text,{id:"input-user-name",style:{borderRadius:"8px 0 0 8px"},children:"Amount"}),(0,f.jsx)(w.Z,{value:h,onChange:function(e){return b(e.target.value)}}),(0,f.jsx)(m.Z,{variant:"outline-info",onClick:function(){return function(){if("1"==D){var e=n.findIndex((function(e){return e.id===d[P].chainSource}));b(u[e]["".concat(n[e].name)])}else{var r=n.findIndex((function(e){return e.id===d[P].chainTarget}));b(u[r]["".concat(n[r].name)])}}()},style:{borderRadius:"0 8px 8px 0"},children:" Max "})]}),(0,f.jsxs)(T.Z,{style:{margin:"10px"},children:[(0,f.jsx)(T.Z.Text,{id:"input-user-name",style:{borderRadius:"8px 0 0 8px"},children:"Fee"}),(0,f.jsx)(w.Z,{value:R,onChange:function(e){return S(e.target.value)},style:{borderRadius:"0 8px 8px 0"}})]})]})]})}),(0,f.jsx)(m.Z,{variant:"success",onClick:function(){return W()},style:{borderRadius:"8px"},children:A?(0,f.jsxs)("div",{children:[(0,f.jsx)(C.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),(0,f.jsx)("text",{children:" Transfering "})]}):(0,f.jsx)("text",{children:" Transfer  "})})]}):(0,f.jsxs)(y.Z.Body,{children:[(0,f.jsx)(y.Z.Title,{children:" Only main chain exists "}),(0,f.jsx)(y.Z.Text,{children:" Please create a bridge to use this function"})]})})})})}}}]);
//# sourceMappingURL=33.9b58a249.chunk.js.map